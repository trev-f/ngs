nextflow_workflow {

    name "Test Workflow NGS"
    script "workflows/ngs.nf"
    workflow "NGS"

    test("successfully runs with default params of nf_test profile.") {

        when {
            params {}
            workflow {}
        }

        then {
            assert workflow.success
            assert workflow.trace.succeeded().size() == 16
        }

    }

    test("successfully runs with uncompressed reference and annotation files.") {

        when {
            params {
                genome      = "https://github.com/trev-f/SRAlign-test/raw/rnaseq/data/references/R64-1-1/genome_I.fa"
                annotations = "https://github.com/trev-f/SRAlign-test/raw/rnaseq/data/references/R64-1-1/annotations_I.gtf"
            }
            workflow {}
        }

        then {
            assert workflow.success
            assert workflow.trace.succeeded().size() == 14
        }

    }

}
